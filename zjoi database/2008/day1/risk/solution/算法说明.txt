将每一条线段AB拆成两条有向线段AB与BA，然后将所有有向线段AB与从B点引出的线段中位于AB顺时针方向的第一条线段连有向边(BA与AB的夹角为2PI，而不是0)。这样对所有的线段做一次DFS之后就能将图中的封闭区域全部求出来，最后判定每个给定的点在哪个区域中，这一步可以用快速排斥法来快速排斥一些不可能的情况。最后统计输出全部的相邻国家。